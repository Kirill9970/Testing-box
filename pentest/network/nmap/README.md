# Автоматизация сетевого сканирования с nmap

## Структура
- `run_nmap.sh` — скрипт для запуска nmap в Docker с параметрами из .env
- `analyze_nmap_report.py` — анализатор отчёта nmap, формирует подробный HTML-отчёт
- `output/` — директория для сохранения отчётов nmap (XML/TXT)
- `README.md` — эта инструкция

## Быстрый старт
1. **Настройте переменные в `.env`** (пример):
   ```ini
   NMAP_TARGET=192.168.1.1
   NMAP_OPTIONS="-A -T4"
   NMAP_OUTPUT=nmap_report.xml
   NMAP_OUTPUT_FORMAT=xml
   ```
2. **Запустите сканирование:**
   ```bash
   ./run_nmap.sh
   ```
   - Отчёт nmap будет сохранён в `output/nmap_report.xml`

3. **Сгенерируйте HTML-отчёт:**
   ```bash
   python3 analyze_nmap_report.py output/nmap_report.xml
   ```
   - HTML-отчёт появится в `../../../reports/pentest/network/nmap/nmap_report_<дата>.html`

## Описание HTML-отчёта
- В начале отчёта — краткая инструкция по чтению.
- Сводка по открытым портам, сервисам и обнаруженным уязвимостям (если сканировались NSE-скрипты).
- Подробные секции по каждому хосту и порту.

## Советы по интерпретации
- Используйте опции `-A -T4` для расширенного сканирования.
- Для сканирования большого диапазона используйте опцию `-Pn` (без пинга).

## Проблемы и решения
- Если отчёт пустой — проверьте доступность цели и параметры запуска.
- Для сканирования локальных сервисов используется `network=host` (Linux).
- Если возникают ошибки с правами — убедитесь, что Docker и output/ доступны для записи.

## Полезные ссылки
- [Документация nmap](https://nmap.org/book/man.html) 