# Автоматизация тестирования SQL-инъекций с sqlmap

## Структура
- `run_sqlmap.sh` — скрипт для запуска sqlmap в Docker с параметрами из .env
- `analyze_sqlmap_report.py` — анализатор отчёта sqlmap, формирует подробный HTML-отчёт
- `output/` — директория для сохранения отчётов sqlmap (TXT/JSON)
- `README.md` — эта инструкция

## Быстрый старт
1. **Настройте переменные в `.env`** (пример):
   ```ini
   SQLMAP_TARGET_URL="http://localhost:8080/vuln.php?id=1"
   SQLMAP_OUTPUT=sqlmap_report.json
   SQLMAP_OUTPUT_FORMAT=json
   SQLMAP_OPTIONS="--batch"
   ```
2. **Запустите сканирование:**
   ```bash
   ./run_sqlmap.sh
   ```
   - Отчёт sqlmap будет сохранён в `output/sqlmap_report.json`

3. **Сгенерируйте HTML-отчёт:**
   ```bash
   python3 analyze_sqlmap_report.py output/sqlmap_report.txt
   ```
   - HTML-отчёт появится в `../../../reports/pentest/sqlmap/sqlmap_report_<дата>.html`

## Описание HTML-отчёта
- В начале отчёта — краткая инструкция по чтению.
- Сводка по найденным уязвимостям и типам инъекций.
- Подробные секции по каждой находке: тип инъекции, параметр, payload, рекомендации.

## Советы по интерпретации
- sqlmap ищет и эксплуатирует SQL-инъекции, может извлекать данные из БД.
- Используйте опцию `--batch` для автоматического режима (без вопросов).

## Проблемы и решения
- Если отчёт пустой — проверьте доступность цели и параметры запуска.
- Для сканирования локальных сервисов используется `network=host` (Linux).
- Если возникают ошибки с правами — убедитесь, что Docker и output/ доступны для записи.

## Полезные ссылки
- [Документация sqlmap](https://github.com/sqlmapproject/sqlmap/wiki) 